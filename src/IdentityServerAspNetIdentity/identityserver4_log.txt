2019-04-11 13:46:30.038 +09:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-11 13:46:30.067 +09:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-04-11 13:46:30.070 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-04-11 13:46:30.070 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-04-11 13:46:30.071 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-04-11 13:46:30.071 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-04-11 13:46:30.071 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-04-11 13:46:56.727 +09:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5003
2019-04-11 13:46:56.732 +09:00 [DBG] Client list checked and origin: http://localhost:5003 is not allowed
2019-04-11 13:46:56.732 +09:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5003
2019-04-11 13:46:56.754 +09:00 [DBG] Login Url: /Account/Login
2019-04-11 13:46:56.754 +09:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-04-11 13:46:56.754 +09:00 [DBG] Logout Url: /Account/Logout
2019-04-11 13:46:56.754 +09:00 [DBG] ConsentUrl Url: /consent
2019-04-11 13:46:56.754 +09:00 [DBG] Consent Return Url Parameter: returnUrl
2019-04-11 13:46:56.754 +09:00 [DBG] Error Url: /home/error
2019-04-11 13:46:56.754 +09:00 [DBG] Error Id Parameter: errorId
2019-04-11 13:46:56.771 +09:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-04-11 13:46:56.876 +09:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-04-11 13:46:56.876 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-04-11 13:46:56.880 +09:00 [DBG] Start discovery request
2019-04-11 13:57:29.639 +09:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5003
2019-04-11 13:57:29.639 +09:00 [DBG] Client list checked and origin: http://localhost:5003 is not allowed
2019-04-11 13:57:29.639 +09:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5003
2019-04-11 13:57:29.640 +09:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-04-11 13:57:29.641 +09:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-04-11 13:57:29.641 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-04-11 13:57:29.641 +09:00 [DBG] Start discovery request
2019-04-11 13:59:13.447 +09:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5003
2019-04-11 13:59:13.448 +09:00 [DBG] Client list checked and origin: http://localhost:5003 is not allowed
2019-04-11 13:59:13.448 +09:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5003
2019-04-11 13:59:13.448 +09:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-04-11 13:59:13.448 +09:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-04-11 13:59:13.448 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-04-11 13:59:13.448 +09:00 [DBG] Start discovery request
2019-04-11 14:00:18.098 +09:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-11 14:00:18.129 +09:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-04-11 14:00:18.131 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-04-11 14:00:18.132 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-04-11 14:00:18.132 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-04-11 14:00:18.132 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-04-11 14:00:18.132 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-04-11 14:00:31.624 +09:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5003
2019-04-11 14:00:31.627 +09:00 [DBG] Client list checked and origin: http://localhost:5003 is not allowed
2019-04-11 14:00:31.627 +09:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5003
2019-04-11 14:00:31.651 +09:00 [DBG] Login Url: /Account/Login
2019-04-11 14:00:31.651 +09:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-04-11 14:00:31.651 +09:00 [DBG] Logout Url: /Account/Logout
2019-04-11 14:00:31.651 +09:00 [DBG] ConsentUrl Url: /consent
2019-04-11 14:00:31.651 +09:00 [DBG] Consent Return Url Parameter: returnUrl
2019-04-11 14:00:31.651 +09:00 [DBG] Error Url: /home/error
2019-04-11 14:00:31.651 +09:00 [DBG] Error Id Parameter: errorId
2019-04-11 14:00:31.668 +09:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-04-11 14:00:31.758 +09:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-04-11 14:00:31.758 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-04-11 14:00:31.761 +09:00 [DBG] Start discovery request
2019-04-11 14:00:31.825 +09:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-04-11 14:00:31.845 +09:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-04-11 14:00:31.845 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-04-11 14:00:31.848 +09:00 [DBG] Start authorize request
2019-04-11 14:00:31.857 +09:00 [DBG] No user present in authorize request
2019-04-11 14:00:31.861 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 14:00:31.881 +09:00 [ERR] Unknown client or not enabled: js
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"56394f0916f9424d974b6f2cec099860","code_challenge":"oDjCqyuozuCiquRTR1liY3d5peiCgdDVMbKXjOV9T2w","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2019-04-11 14:00:31.898 +09:00 [ERR] Request validation failed
2019-04-11 14:00:31.899 +09:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"56394f0916f9424d974b6f2cec099860","code_challenge":"oDjCqyuozuCiquRTR1liY3d5peiCgdDVMbKXjOV9T2w","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2019-04-11 14:00:31.910 +09:00 [INF] {"ClientId":"js","ClientName":null,"RedirectUri":null,"Endpoint":"Authorize","SubjectId":null,"Scopes":"","GrantType":null,"Error":"unauthorized_client","ErrorDescription":"Unknown client or client not enabled","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLLU7AFQ8D8I:00000001","TimeStamp":"2019-04-11T05:00:31.0000000Z","ProcessId":14268,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-04-11 14:01:20.407 +09:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-11 14:01:20.436 +09:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-04-11 14:01:20.438 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-04-11 14:01:20.439 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-04-11 14:01:20.439 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-04-11 14:01:20.439 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-04-11 14:01:20.439 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-04-11 15:36:35.021 +09:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5003
2019-04-11 15:36:35.026 +09:00 [DBG] Client list checked and origin: http://localhost:5003 is not allowed
2019-04-11 15:36:35.026 +09:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5003
2019-04-11 15:36:35.050 +09:00 [DBG] Login Url: /Account/Login
2019-04-11 15:36:35.050 +09:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-04-11 15:36:35.050 +09:00 [DBG] Logout Url: /Account/Logout
2019-04-11 15:36:35.050 +09:00 [DBG] ConsentUrl Url: /consent
2019-04-11 15:36:35.050 +09:00 [DBG] Consent Return Url Parameter: returnUrl
2019-04-11 15:36:35.050 +09:00 [DBG] Error Url: /home/error
2019-04-11 15:36:35.050 +09:00 [DBG] Error Id Parameter: errorId
2019-04-11 15:36:35.066 +09:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-04-11 15:36:35.157 +09:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-04-11 15:36:35.157 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-04-11 15:36:35.160 +09:00 [DBG] Start discovery request
2019-04-11 15:41:01.382 +09:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-11 15:41:01.412 +09:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-04-11 15:41:01.416 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-04-11 15:41:01.416 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-04-11 15:41:01.416 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-04-11 15:41:01.416 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-04-11 15:41:01.416 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-04-11 15:41:17.638 +09:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5003
2019-04-11 15:41:17.644 +09:00 [DBG] Client list checked and origin: http://localhost:5003 is not allowed
2019-04-11 15:41:17.644 +09:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5003
2019-04-11 15:41:17.666 +09:00 [DBG] Login Url: /Account/Login
2019-04-11 15:41:17.666 +09:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-04-11 15:41:17.666 +09:00 [DBG] Logout Url: /Account/Logout
2019-04-11 15:41:17.666 +09:00 [DBG] ConsentUrl Url: /consent
2019-04-11 15:41:17.666 +09:00 [DBG] Consent Return Url Parameter: returnUrl
2019-04-11 15:41:17.666 +09:00 [DBG] Error Url: /home/error
2019-04-11 15:41:17.666 +09:00 [DBG] Error Id Parameter: errorId
2019-04-11 15:41:17.682 +09:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-04-11 15:41:17.766 +09:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-04-11 15:41:17.766 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-04-11 15:41:17.768 +09:00 [DBG] Start discovery request
2019-04-11 15:41:17.829 +09:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-04-11 15:41:17.835 +09:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-04-11 15:41:17.835 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-04-11 15:41:17.838 +09:00 [DBG] Start authorize request
2019-04-11 15:41:17.848 +09:00 [DBG] No user present in authorize request
2019-04-11 15:41:17.852 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 15:41:17.872 +09:00 [ERR] Unknown client or not enabled: js
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"c958ad351ab24352b5fa111f502bc01b","code_challenge":"8O6rjeePGK2NziI5AgFXOTjTC2winYxD8yHETLlch4Y","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2019-04-11 15:41:17.883 +09:00 [ERR] Request validation failed
2019-04-11 15:41:17.883 +09:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"c958ad351ab24352b5fa111f502bc01b","code_challenge":"8O6rjeePGK2NziI5AgFXOTjTC2winYxD8yHETLlch4Y","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2019-04-11 15:41:17.893 +09:00 [INF] {"ClientId":"js","ClientName":null,"RedirectUri":null,"Endpoint":"Authorize","SubjectId":null,"Scopes":"","GrantType":null,"Error":"unauthorized_client","ErrorDescription":"Unknown client or client not enabled","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLLU92PLQQQJ:00000001","TimeStamp":"2019-04-11T06:41:17.0000000Z","ProcessId":5600,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-04-11 15:44:19.697 +09:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-11 15:44:19.726 +09:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-04-11 15:44:19.728 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-04-11 15:44:19.728 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-04-11 15:44:19.728 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-04-11 15:44:19.728 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-04-11 15:44:19.728 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-04-11 15:45:05.189 +09:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5003
2019-04-11 15:45:05.193 +09:00 [DBG] Client list checked and origin: http://localhost:5003 is allowed
2019-04-11 15:45:05.193 +09:00 [DBG] CorsPolicyService allowed origin: http://localhost:5003
2019-04-11 15:45:05.218 +09:00 [DBG] Login Url: /Account/Login
2019-04-11 15:45:05.218 +09:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-04-11 15:45:05.218 +09:00 [DBG] Logout Url: /Account/Logout
2019-04-11 15:45:05.218 +09:00 [DBG] ConsentUrl Url: /consent
2019-04-11 15:45:05.218 +09:00 [DBG] Consent Return Url Parameter: returnUrl
2019-04-11 15:45:05.218 +09:00 [DBG] Error Url: /home/error
2019-04-11 15:45:05.218 +09:00 [DBG] Error Id Parameter: errorId
2019-04-11 15:45:05.234 +09:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-04-11 15:45:05.322 +09:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-04-11 15:45:05.322 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-04-11 15:45:05.325 +09:00 [DBG] Start discovery request
2019-04-11 15:45:05.389 +09:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-04-11 15:45:05.395 +09:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-04-11 15:45:05.395 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-04-11 15:45:05.400 +09:00 [DBG] Start authorize request
2019-04-11 15:45:05.409 +09:00 [DBG] No user present in authorize request
2019-04-11 15:45:05.414 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 15:45:05.439 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 15:45:05.446 +09:00 [DBG] Checking for PKCE parameters
2019-04-11 15:45:05.461 +09:00 [ERR] Invalid grant type for client: authorization_code
{"ClientId":"js","ClientName":"test WebApplication3 Client","RedirectUri":"http://localhost:5003/callback.html","AllowedRedirectUris":["http://localhost:5003/index.html","http://localhost:5003/callback.html","http://localhost:5003/silent.html","http://localhost:5003/popup.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"","State":"115771b9026640d1ae2d973e7a48afcf","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"115771b9026640d1ae2d973e7a48afcf","code_challenge":"zD1sHAl5qfkIXmBzIQOJ66-gp-qoCCDNjiA8dcT5ETI","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2019-04-11 15:45:05.476 +09:00 [ERR] Request validation failed
2019-04-11 15:45:05.476 +09:00 [INF] {"ClientId":"js","ClientName":"test WebApplication3 Client","RedirectUri":"http://localhost:5003/callback.html","AllowedRedirectUris":["http://localhost:5003/index.html","http://localhost:5003/callback.html","http://localhost:5003/silent.html","http://localhost:5003/popup.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"","State":"115771b9026640d1ae2d973e7a48afcf","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"115771b9026640d1ae2d973e7a48afcf","code_challenge":"zD1sHAl5qfkIXmBzIQOJ66-gp-qoCCDNjiA8dcT5ETI","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2019-04-11 15:45:05.485 +09:00 [INF] {"ClientId":"js","ClientName":"test WebApplication3 Client","RedirectUri":"http://localhost:5003/callback.html","Endpoint":"Authorize","SubjectId":null,"Scopes":"","GrantType":"authorization_code","Error":"unauthorized_client","ErrorDescription":"Invalid grant type for client","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLLU94TFSTD2:00000001","TimeStamp":"2019-04-11T06:45:05.0000000Z","ProcessId":14416,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-04-11 15:45:20.093 +09:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5003
2019-04-11 15:45:20.093 +09:00 [DBG] Client list checked and origin: http://localhost:5003 is allowed
2019-04-11 15:45:20.093 +09:00 [DBG] CorsPolicyService allowed origin: http://localhost:5003
2019-04-11 15:45:20.094 +09:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-04-11 15:45:20.094 +09:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-04-11 15:45:20.094 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-04-11 15:45:20.094 +09:00 [DBG] Start discovery request
2019-04-11 15:45:20.105 +09:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-04-11 15:45:20.105 +09:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-04-11 15:45:20.105 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-04-11 15:45:20.105 +09:00 [DBG] Start authorize request
2019-04-11 15:45:20.105 +09:00 [DBG] No user present in authorize request
2019-04-11 15:45:20.105 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 15:45:20.105 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 15:45:20.106 +09:00 [DBG] Checking for PKCE parameters
2019-04-11 15:45:20.106 +09:00 [ERR] Invalid grant type for client: authorization_code
{"ClientId":"js","ClientName":"test WebApplication3 Client","RedirectUri":"http://localhost:5003/callback.html","AllowedRedirectUris":["http://localhost:5003/index.html","http://localhost:5003/callback.html","http://localhost:5003/silent.html","http://localhost:5003/popup.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"","State":"210f65f739db4e2d8fe49c6d03b15aa7","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"210f65f739db4e2d8fe49c6d03b15aa7","code_challenge":"p8OoJ3O-vuVG1bRXg9gjcHeVc-gIxSdSJolBfuRYu2c","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2019-04-11 15:45:20.106 +09:00 [ERR] Request validation failed
2019-04-11 15:45:20.106 +09:00 [INF] {"ClientId":"js","ClientName":"test WebApplication3 Client","RedirectUri":"http://localhost:5003/callback.html","AllowedRedirectUris":["http://localhost:5003/index.html","http://localhost:5003/callback.html","http://localhost:5003/silent.html","http://localhost:5003/popup.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"","State":"210f65f739db4e2d8fe49c6d03b15aa7","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"210f65f739db4e2d8fe49c6d03b15aa7","code_challenge":"p8OoJ3O-vuVG1bRXg9gjcHeVc-gIxSdSJolBfuRYu2c","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2019-04-11 15:45:20.106 +09:00 [INF] {"ClientId":"js","ClientName":"test WebApplication3 Client","RedirectUri":"http://localhost:5003/callback.html","Endpoint":"Authorize","SubjectId":null,"Scopes":"","GrantType":"authorization_code","Error":"unauthorized_client","ErrorDescription":"Invalid grant type for client","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLLU94TFSTD2:00000003","TimeStamp":"2019-04-11T06:45:20.0000000Z","ProcessId":14416,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-04-11 15:59:51.340 +09:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-11 15:59:51.370 +09:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-04-11 15:59:51.372 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-04-11 15:59:51.372 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-04-11 15:59:51.372 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-04-11 15:59:51.372 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-04-11 15:59:51.372 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-04-11 16:01:51.619 +09:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5003
2019-04-11 16:01:51.622 +09:00 [DBG] Client list checked and origin: http://localhost:5003 is allowed
2019-04-11 16:01:51.622 +09:00 [DBG] CorsPolicyService allowed origin: http://localhost:5003
2019-04-11 16:01:51.646 +09:00 [DBG] Login Url: /Account/Login
2019-04-11 16:01:51.646 +09:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-04-11 16:01:51.646 +09:00 [DBG] Logout Url: /Account/Logout
2019-04-11 16:01:51.646 +09:00 [DBG] ConsentUrl Url: /consent
2019-04-11 16:01:51.646 +09:00 [DBG] Consent Return Url Parameter: returnUrl
2019-04-11 16:01:51.646 +09:00 [DBG] Error Url: /home/error
2019-04-11 16:01:51.646 +09:00 [DBG] Error Id Parameter: errorId
2019-04-11 16:01:51.662 +09:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-04-11 16:01:51.757 +09:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-04-11 16:01:51.757 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-04-11 16:01:51.760 +09:00 [DBG] Start discovery request
2019-04-11 16:01:51.822 +09:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-04-11 16:01:51.832 +09:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-04-11 16:01:51.832 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-04-11 16:01:51.844 +09:00 [DBG] Start authorize request
2019-04-11 16:01:51.853 +09:00 [DBG] No user present in authorize request
2019-04-11 16:01:51.858 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 16:01:51.876 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:01:51.880 +09:00 [DBG] Checking for PKCE parameters
2019-04-11 16:01:51.895 +09:00 [ERR] Invalid grant type for client: authorization_code
{"ClientId":"js","ClientName":"test WebApplication3 Client","RedirectUri":"http://localhost:5003/callback.html","AllowedRedirectUris":["http://localhost:5003/index.html","http://localhost:5003/callback.html","http://localhost:5003/silent.html","http://localhost:5003/popup.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"","State":"0a08be0789274f9683e7569aba803620","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"0a08be0789274f9683e7569aba803620","code_challenge":"ptcoj2LF0kf2H7O9757C2j_wwf_1mAyivd6aw9atG3Y","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2019-04-11 16:01:51.911 +09:00 [ERR] Request validation failed
2019-04-11 16:01:51.911 +09:00 [INF] {"ClientId":"js","ClientName":"test WebApplication3 Client","RedirectUri":"http://localhost:5003/callback.html","AllowedRedirectUris":["http://localhost:5003/index.html","http://localhost:5003/callback.html","http://localhost:5003/silent.html","http://localhost:5003/popup.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"","State":"0a08be0789274f9683e7569aba803620","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"0a08be0789274f9683e7569aba803620","code_challenge":"ptcoj2LF0kf2H7O9757C2j_wwf_1mAyivd6aw9atG3Y","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2019-04-11 16:01:51.923 +09:00 [INF] {"ClientId":"js","ClientName":"test WebApplication3 Client","RedirectUri":"http://localhost:5003/callback.html","Endpoint":"Authorize","SubjectId":null,"Scopes":"","GrantType":"authorization_code","Error":"unauthorized_client","ErrorDescription":"Invalid grant type for client","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLLU9E9DT668:00000001","TimeStamp":"2019-04-11T07:01:51.0000000Z","ProcessId":14644,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-04-11 16:04:26.520 +09:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-11 16:04:26.549 +09:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-04-11 16:04:26.551 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-04-11 16:04:26.551 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-04-11 16:04:26.552 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-04-11 16:04:26.552 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-04-11 16:04:26.552 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-04-11 16:04:46.802 +09:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5003
2019-04-11 16:04:46.807 +09:00 [DBG] Client list checked and origin: http://localhost:5003 is allowed
2019-04-11 16:04:46.807 +09:00 [DBG] CorsPolicyService allowed origin: http://localhost:5003
2019-04-11 16:04:46.830 +09:00 [DBG] Login Url: /Account/Login
2019-04-11 16:04:46.831 +09:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-04-11 16:04:46.831 +09:00 [DBG] Logout Url: /Account/Logout
2019-04-11 16:04:46.831 +09:00 [DBG] ConsentUrl Url: /consent
2019-04-11 16:04:46.831 +09:00 [DBG] Consent Return Url Parameter: returnUrl
2019-04-11 16:04:46.831 +09:00 [DBG] Error Url: /home/error
2019-04-11 16:04:46.831 +09:00 [DBG] Error Id Parameter: errorId
2019-04-11 16:04:46.847 +09:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-04-11 16:04:46.934 +09:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-04-11 16:04:46.935 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-04-11 16:04:46.937 +09:00 [DBG] Start discovery request
2019-04-11 16:04:47.009 +09:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-04-11 16:04:47.016 +09:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-04-11 16:04:47.017 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-04-11 16:04:47.020 +09:00 [DBG] Start authorize request
2019-04-11 16:04:47.033 +09:00 [DBG] No user present in authorize request
2019-04-11 16:04:47.037 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 16:04:47.054 +09:00 [ERR] Invalid client configuration for client js: Client secret is required for authorization_code, but no client secret is configured.
2019-04-11 16:04:47.068 +09:00 [INF] {"ClientId":"js","ClientName":"test WebApplication3 Client","Category":"Error","Name":"Invalid Client Configuration","EventType":"Error","Id":3001,"Message":"Client secret is required for authorization_code, but no client secret is configured.","ActivityId":"0HLLU9FTKJU52:00000001","TimeStamp":"2019-04-11T07:04:47.0000000Z","ProcessId":1236,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"InvalidClientConfigurationEvent"}
2019-04-11 16:04:47.084 +09:00 [ERR] Unknown client or not enabled: js
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"0381eed4d82a45a1a2585f454b354c8b","code_challenge":"KdQuu6ACTTLOp3A8qHkyyRb9IKLO34ZyiU01o2XTkag","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2019-04-11 16:04:47.088 +09:00 [ERR] Request validation failed
2019-04-11 16:04:47.088 +09:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"0381eed4d82a45a1a2585f454b354c8b","code_challenge":"KdQuu6ACTTLOp3A8qHkyyRb9IKLO34ZyiU01o2XTkag","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2019-04-11 16:04:47.091 +09:00 [INF] {"ClientId":"js","ClientName":null,"RedirectUri":null,"Endpoint":"Authorize","SubjectId":null,"Scopes":"","GrantType":null,"Error":"unauthorized_client","ErrorDescription":"Unknown client or client not enabled","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLLU9FTKJU52:00000001","TimeStamp":"2019-04-11T07:04:47.0000000Z","ProcessId":1236,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-04-11 16:10:17.622 +09:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-11 16:10:17.653 +09:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-04-11 16:10:17.655 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-04-11 16:10:17.655 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-04-11 16:10:17.655 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-04-11 16:10:17.655 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-04-11 16:10:17.655 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-04-11 16:10:30.603 +09:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5003
2019-04-11 16:10:30.609 +09:00 [DBG] Client list checked and origin: http://localhost:5003 is allowed
2019-04-11 16:10:30.609 +09:00 [DBG] CorsPolicyService allowed origin: http://localhost:5003
2019-04-11 16:10:30.635 +09:00 [DBG] Login Url: /Account/Login
2019-04-11 16:10:30.635 +09:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-04-11 16:10:30.635 +09:00 [DBG] Logout Url: /Account/Logout
2019-04-11 16:10:30.635 +09:00 [DBG] ConsentUrl Url: /consent
2019-04-11 16:10:30.635 +09:00 [DBG] Consent Return Url Parameter: returnUrl
2019-04-11 16:10:30.635 +09:00 [DBG] Error Url: /home/error
2019-04-11 16:10:30.635 +09:00 [DBG] Error Id Parameter: errorId
2019-04-11 16:10:30.656 +09:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-04-11 16:10:30.742 +09:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-04-11 16:10:30.742 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-04-11 16:10:30.745 +09:00 [DBG] Start discovery request
2019-04-11 16:10:30.807 +09:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-04-11 16:10:30.815 +09:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-04-11 16:10:30.815 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-04-11 16:10:30.819 +09:00 [DBG] Start authorize request
2019-04-11 16:10:30.832 +09:00 [DBG] No user present in authorize request
2019-04-11 16:10:30.836 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 16:10:30.855 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:10:30.861 +09:00 [DBG] Checking for PKCE parameters
2019-04-11 16:10:30.874 +09:00 [ERR] Invalid grant type for client: authorization_code
{"ClientId":"js","ClientName":"test WebApplication3 Client","RedirectUri":"http://localhost:5003/callback.html","AllowedRedirectUris":["http://localhost:5003/index.html","http://localhost:5003/callback.html","http://localhost:5003/silent.html","http://localhost:5003/popup.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"","State":"16020986f4804009a1c5d4c22edca83c","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"16020986f4804009a1c5d4c22edca83c","code_challenge":"UbeTFPx2DtJet2tGxh3luLnBRwG-z9x5m_wRjds7oC4","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2019-04-11 16:10:30.890 +09:00 [ERR] Request validation failed
2019-04-11 16:10:30.890 +09:00 [INF] {"ClientId":"js","ClientName":"test WebApplication3 Client","RedirectUri":"http://localhost:5003/callback.html","AllowedRedirectUris":["http://localhost:5003/index.html","http://localhost:5003/callback.html","http://localhost:5003/silent.html","http://localhost:5003/popup.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"","State":"16020986f4804009a1c5d4c22edca83c","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"16020986f4804009a1c5d4c22edca83c","code_challenge":"UbeTFPx2DtJet2tGxh3luLnBRwG-z9x5m_wRjds7oC4","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2019-04-11 16:10:30.900 +09:00 [INF] {"ClientId":"js","ClientName":"test WebApplication3 Client","RedirectUri":"http://localhost:5003/callback.html","Endpoint":"Authorize","SubjectId":null,"Scopes":"","GrantType":"authorization_code","Error":"unauthorized_client","ErrorDescription":"Invalid grant type for client","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLLU9J4399D9:00000001","TimeStamp":"2019-04-11T07:10:30.0000000Z","ProcessId":19652,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-04-11 16:11:40.493 +09:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-11 16:11:40.523 +09:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-04-11 16:11:40.526 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-04-11 16:11:40.526 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-04-11 16:11:40.526 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-04-11 16:11:40.526 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-04-11 16:11:40.526 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-04-11 16:11:49.223 +09:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5003
2019-04-11 16:11:49.227 +09:00 [DBG] Client list checked and origin: http://localhost:5003 is allowed
2019-04-11 16:11:49.227 +09:00 [DBG] CorsPolicyService allowed origin: http://localhost:5003
2019-04-11 16:11:49.254 +09:00 [DBG] Login Url: /Account/Login
2019-04-11 16:11:49.255 +09:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-04-11 16:11:49.255 +09:00 [DBG] Logout Url: /Account/Logout
2019-04-11 16:11:49.255 +09:00 [DBG] ConsentUrl Url: /consent
2019-04-11 16:11:49.255 +09:00 [DBG] Consent Return Url Parameter: returnUrl
2019-04-11 16:11:49.255 +09:00 [DBG] Error Url: /home/error
2019-04-11 16:11:49.255 +09:00 [DBG] Error Id Parameter: errorId
2019-04-11 16:11:49.275 +09:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-04-11 16:11:49.368 +09:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-04-11 16:11:49.368 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-04-11 16:11:49.372 +09:00 [DBG] Start discovery request
2019-04-11 16:11:49.435 +09:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-04-11 16:11:49.441 +09:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-04-11 16:11:49.442 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-04-11 16:11:49.447 +09:00 [DBG] Start authorize request
2019-04-11 16:11:49.457 +09:00 [DBG] No user present in authorize request
2019-04-11 16:11:49.463 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 16:11:49.483 +09:00 [ERR] Invalid client configuration for client js: Client secret is required for client_credentials, but no client secret is configured.
2019-04-11 16:11:49.497 +09:00 [INF] {"ClientId":"js","ClientName":"test WebApplication3 Client","Category":"Error","Name":"Invalid Client Configuration","EventType":"Error","Id":3001,"Message":"Client secret is required for client_credentials, but no client secret is configured.","ActivityId":"0HLLU9JRH3NA8:00000001","TimeStamp":"2019-04-11T07:11:49.0000000Z","ProcessId":20164,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"InvalidClientConfigurationEvent"}
2019-04-11 16:11:49.513 +09:00 [ERR] Unknown client or not enabled: js
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"3ec2a8d90b1d499faa198de68dc0f5dd","code_challenge":"lJM3XXesmC02WAYtcNGv3UKpjgxvNKkDsLVa6awJVgs","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2019-04-11 16:11:49.517 +09:00 [ERR] Request validation failed
2019-04-11 16:11:49.517 +09:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"3ec2a8d90b1d499faa198de68dc0f5dd","code_challenge":"lJM3XXesmC02WAYtcNGv3UKpjgxvNKkDsLVa6awJVgs","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2019-04-11 16:11:49.518 +09:00 [INF] {"ClientId":"js","ClientName":null,"RedirectUri":null,"Endpoint":"Authorize","SubjectId":null,"Scopes":"","GrantType":null,"Error":"unauthorized_client","ErrorDescription":"Unknown client or client not enabled","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLLU9JRH3NA8:00000001","TimeStamp":"2019-04-11T07:11:49.0000000Z","ProcessId":20164,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-04-11 16:21:08.465 +09:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-11 16:21:08.495 +09:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-04-11 16:21:08.497 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-04-11 16:21:08.497 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-04-11 16:21:08.497 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-04-11 16:21:08.497 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-04-11 16:21:08.497 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-04-11 16:21:22.166 +09:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5003
2019-04-11 16:21:22.170 +09:00 [DBG] Client list checked and origin: http://localhost:5003 is allowed
2019-04-11 16:21:22.170 +09:00 [DBG] CorsPolicyService allowed origin: http://localhost:5003
2019-04-11 16:21:22.199 +09:00 [DBG] Login Url: /Account/Login
2019-04-11 16:21:22.199 +09:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-04-11 16:21:22.199 +09:00 [DBG] Logout Url: /Account/Logout
2019-04-11 16:21:22.199 +09:00 [DBG] ConsentUrl Url: /consent
2019-04-11 16:21:22.199 +09:00 [DBG] Consent Return Url Parameter: returnUrl
2019-04-11 16:21:22.200 +09:00 [DBG] Error Url: /home/error
2019-04-11 16:21:22.200 +09:00 [DBG] Error Id Parameter: errorId
2019-04-11 16:21:22.217 +09:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-04-11 16:21:22.314 +09:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-04-11 16:21:22.314 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-04-11 16:21:22.318 +09:00 [DBG] Start discovery request
2019-04-11 16:21:22.387 +09:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-04-11 16:21:22.394 +09:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-04-11 16:21:22.394 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-04-11 16:21:22.402 +09:00 [DBG] Start authorize request
2019-04-11 16:21:22.414 +09:00 [DBG] No user present in authorize request
2019-04-11 16:21:22.420 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 16:21:22.437 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:21:22.442 +09:00 [DBG] Checking for PKCE parameters
2019-04-11 16:21:22.475 +09:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-04-11 16:21:22.488 +09:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"js","ClientName":"test WebApplication3 Client","RedirectUri":"http://localhost:5003/callback.html","AllowedRedirectUris":["http://localhost:5003/index.html","http://localhost:5003/callback.html","http://localhost:5003/silent.html","http://localhost:5003/popup.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile api1","State":"9fb108a9e4b94a4694174d87f6a08ee8","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"9fb108a9e4b94a4694174d87f6a08ee8","code_challenge":"sWqCT5601kqgsS5DEHccCYs7UTXBSDBxIf3uLoeQpVA","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2019-04-11 16:21:22.509 +09:00 [INF] Showing login: User is not authenticated
2019-04-11 16:21:22.595 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 16:21:22.595 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:21:22.595 +09:00 [DBG] Checking for PKCE parameters
2019-04-11 16:21:22.595 +09:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-04-11 16:21:22.598 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:21:56.071 +09:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-04-11 16:21:56.125 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 16:21:56.125 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:21:56.126 +09:00 [DBG] Checking for PKCE parameters
2019-04-11 16:21:56.126 +09:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-04-11 16:21:57.798 +09:00 [ERR] Failed executing DbCommand (331ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`
FROM `AspNetUsers` AS `u`
WHERE `u`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1
MySql.Data.MySqlClient.MySqlException (0x80004005): Table 'mytime.aspnetusers' doesn't exist ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Table 'mytime.aspnetusers' doesn't exist
   at MySqlConnector.Core.ServerSession.TryAsyncContinuation(Task`1 task) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ServerSession.cs:line 1252
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 307
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, ResultSetProtocol resultSetProtocol, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 292
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 37
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
2019-04-11 16:21:57.895 +09:00 [ERR] An exception occurred while iterating over the results of a query for context type 'IdentityServerAspNetIdentity.Data.ApplicationDbContext'.
MySql.Data.MySqlClient.MySqlException (0x80004005): Table 'mytime.aspnetusers' doesn't exist ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Table 'mytime.aspnetusers' doesn't exist
   at MySqlConnector.Core.ServerSession.TryAsyncContinuation(Task`1 task) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ServerSession.cs:line 1252
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 307
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, ResultSetProtocol resultSetProtocol, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 292
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 37
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.BufferlessMoveNext(DbContext _, Boolean buffer, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.FirstOrDefault_[TSource](IAsyncEnumerable`1 source, CancellationToken cancellationToken) in D:\a\1\s\Ix.NET\Source\System.Interactive.Async\First.cs:line 144
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.MoveNextCore(CancellationToken cancellationToken) in D:\a\1\s\Ix.NET\Source\System.Interactive.Async\Select.cs:line 106
   at System.Linq.AsyncEnumerable.AsyncIterator`1.MoveNext(CancellationToken cancellationToken) in D:\a\1\s\Ix.NET\Source\System.Interactive.Async\AsyncIterator.cs:line 98
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
MySql.Data.MySqlClient.MySqlException (0x80004005): Table 'mytime.aspnetusers' doesn't exist ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Table 'mytime.aspnetusers' doesn't exist
   at MySqlConnector.Core.ServerSession.TryAsyncContinuation(Task`1 task) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ServerSession.cs:line 1252
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 307
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, ResultSetProtocol resultSetProtocol, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 292
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 37
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.BufferlessMoveNext(DbContext _, Boolean buffer, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.FirstOrDefault_[TSource](IAsyncEnumerable`1 source, CancellationToken cancellationToken) in D:\a\1\s\Ix.NET\Source\System.Interactive.Async\First.cs:line 144
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.MoveNextCore(CancellationToken cancellationToken) in D:\a\1\s\Ix.NET\Source\System.Interactive.Async\Select.cs:line 106
   at System.Linq.AsyncEnumerable.AsyncIterator`1.MoveNext(CancellationToken cancellationToken) in D:\a\1\s\Ix.NET\Source\System.Interactive.Async\AsyncIterator.cs:line 98
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
2019-04-11 16:21:57.905 +09:00 [ERR] An exception occurred while iterating over the results of a query for context type 'IdentityServerAspNetIdentity.Data.ApplicationDbContext'.
MySql.Data.MySqlClient.MySqlException (0x80004005): Table 'mytime.aspnetusers' doesn't exist ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Table 'mytime.aspnetusers' doesn't exist
   at MySqlConnector.Core.ServerSession.TryAsyncContinuation(Task`1 task) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ServerSession.cs:line 1252
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 307
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, ResultSetProtocol resultSetProtocol, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 292
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 37
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.BufferlessMoveNext(DbContext _, Boolean buffer, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.FirstOrDefault_[TSource](IAsyncEnumerable`1 source, CancellationToken cancellationToken) in D:\a\1\s\Ix.NET\Source\System.Interactive.Async\First.cs:line 144
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.MoveNextCore(CancellationToken cancellationToken) in D:\a\1\s\Ix.NET\Source\System.Interactive.Async\Select.cs:line 106
   at System.Linq.AsyncEnumerable.AsyncIterator`1.MoveNext(CancellationToken cancellationToken) in D:\a\1\s\Ix.NET\Source\System.Interactive.Async\AsyncIterator.cs:line 98
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
MySql.Data.MySqlClient.MySqlException (0x80004005): Table 'mytime.aspnetusers' doesn't exist ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Table 'mytime.aspnetusers' doesn't exist
   at MySqlConnector.Core.ServerSession.TryAsyncContinuation(Task`1 task) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ServerSession.cs:line 1252
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 307
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, ResultSetProtocol resultSetProtocol, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 292
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 37
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.BufferlessMoveNext(DbContext _, Boolean buffer, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.FirstOrDefault_[TSource](IAsyncEnumerable`1 source, CancellationToken cancellationToken) in D:\a\1\s\Ix.NET\Source\System.Interactive.Async\First.cs:line 144
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.MoveNextCore(CancellationToken cancellationToken) in D:\a\1\s\Ix.NET\Source\System.Interactive.Async\Select.cs:line 106
   at System.Linq.AsyncEnumerable.AsyncIterator`1.MoveNext(CancellationToken cancellationToken) in D:\a\1\s\Ix.NET\Source\System.Interactive.Async\AsyncIterator.cs:line 98
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-04-11 16:25:24.070 +09:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-11 16:25:24.100 +09:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-04-11 16:25:24.102 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-04-11 16:25:24.102 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-04-11 16:25:24.102 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-04-11 16:25:24.102 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-04-11 16:25:24.102 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-04-11 16:25:34.317 +09:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5003
2019-04-11 16:25:34.322 +09:00 [DBG] Client list checked and origin: http://localhost:5003 is allowed
2019-04-11 16:25:34.322 +09:00 [DBG] CorsPolicyService allowed origin: http://localhost:5003
2019-04-11 16:25:34.345 +09:00 [DBG] Login Url: /Account/Login
2019-04-11 16:25:34.345 +09:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-04-11 16:25:34.345 +09:00 [DBG] Logout Url: /Account/Logout
2019-04-11 16:25:34.345 +09:00 [DBG] ConsentUrl Url: /consent
2019-04-11 16:25:34.345 +09:00 [DBG] Consent Return Url Parameter: returnUrl
2019-04-11 16:25:34.345 +09:00 [DBG] Error Url: /home/error
2019-04-11 16:25:34.345 +09:00 [DBG] Error Id Parameter: errorId
2019-04-11 16:25:34.362 +09:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-04-11 16:25:34.455 +09:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-04-11 16:25:34.456 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-04-11 16:25:34.459 +09:00 [DBG] Start discovery request
2019-04-11 16:25:34.519 +09:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-04-11 16:25:34.536 +09:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-04-11 16:25:34.536 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-04-11 16:25:34.541 +09:00 [DBG] Start authorize request
2019-04-11 16:25:34.549 +09:00 [DBG] No user present in authorize request
2019-04-11 16:25:34.554 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 16:25:34.569 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:25:34.573 +09:00 [DBG] Checking for PKCE parameters
2019-04-11 16:25:34.606 +09:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-04-11 16:25:34.618 +09:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"js","ClientName":"test WebApplication3 Client","RedirectUri":"http://localhost:5003/callback.html","AllowedRedirectUris":["http://localhost:5003/index.html","http://localhost:5003/callback.html","http://localhost:5003/silent.html","http://localhost:5003/popup.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile api1","State":"8feb5b279c9b44f697f0692f7d41d3a3","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"8feb5b279c9b44f697f0692f7d41d3a3","code_challenge":"hWs8O4_oabkmvUGG3yN9aEsyv7hg3jkLItio3j9nj14","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2019-04-11 16:25:34.637 +09:00 [INF] Showing login: User is not authenticated
2019-04-11 16:25:34.715 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 16:25:34.715 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:25:34.715 +09:00 [DBG] Checking for PKCE parameters
2019-04-11 16:25:34.715 +09:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-04-11 16:25:34.717 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:25:44.167 +09:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-04-11 16:25:44.215 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 16:25:44.215 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:25:44.215 +09:00 [DBG] Checking for PKCE parameters
2019-04-11 16:25:44.215 +09:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-04-11 16:25:45.660 +09:00 [INF] {"Username":"bob","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HLLU9RHDNSQV:00000003","TimeStamp":"2019-04-11T07:25:45.0000000Z","ProcessId":21552,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-04-11 16:25:45.661 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 16:25:45.661 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:25:45.661 +09:00 [DBG] Checking for PKCE parameters
2019-04-11 16:25:45.662 +09:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-04-11 16:25:45.662 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:36:56.369 +09:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-11 16:36:56.402 +09:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-04-11 16:36:56.404 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-04-11 16:36:56.404 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-04-11 16:36:56.404 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-04-11 16:36:56.404 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-04-11 16:36:56.404 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-04-11 16:37:04.723 +09:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5003
2019-04-11 16:37:04.727 +09:00 [DBG] Client list checked and origin: http://localhost:5003 is allowed
2019-04-11 16:37:04.727 +09:00 [DBG] CorsPolicyService allowed origin: http://localhost:5003
2019-04-11 16:37:04.750 +09:00 [DBG] Login Url: /Account/Login
2019-04-11 16:37:04.751 +09:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-04-11 16:37:04.751 +09:00 [DBG] Logout Url: /Account/Logout
2019-04-11 16:37:04.751 +09:00 [DBG] ConsentUrl Url: /consent
2019-04-11 16:37:04.751 +09:00 [DBG] Consent Return Url Parameter: returnUrl
2019-04-11 16:37:04.751 +09:00 [DBG] Error Url: /home/error
2019-04-11 16:37:04.751 +09:00 [DBG] Error Id Parameter: errorId
2019-04-11 16:37:04.767 +09:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-04-11 16:37:04.853 +09:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-04-11 16:37:04.853 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-04-11 16:37:04.857 +09:00 [DBG] Start discovery request
2019-04-11 16:37:04.927 +09:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-04-11 16:37:04.934 +09:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-04-11 16:37:04.934 +09:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-04-11 16:37:04.938 +09:00 [DBG] Start authorize request
2019-04-11 16:37:04.947 +09:00 [DBG] No user present in authorize request
2019-04-11 16:37:04.951 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 16:37:04.968 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:37:04.973 +09:00 [DBG] Checking for PKCE parameters
2019-04-11 16:37:05.003 +09:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-04-11 16:37:05.020 +09:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"js","ClientName":"test WebApplication3 Client","RedirectUri":"http://localhost:5003/callback.html","AllowedRedirectUris":["http://localhost:5003/index.html","http://localhost:5003/callback.html","http://localhost:5003/silent.html","http://localhost:5003/popup.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile api1","State":"bf12bd8c70b0453689e1edbb78faee1c","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"bf12bd8c70b0453689e1edbb78faee1c","code_challenge":"NkqXjJdX8BsRzx1nOPp7Nu6NCEPyO-hhJAImgfGaPXg","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2019-04-11 16:37:05.038 +09:00 [INF] Showing login: User is not authenticated
2019-04-11 16:37:05.117 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 16:37:05.117 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:37:05.117 +09:00 [DBG] Checking for PKCE parameters
2019-04-11 16:37:05.118 +09:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-04-11 16:37:05.120 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:37:14.768 +09:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-04-11 16:37:14.813 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 16:37:14.813 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:37:14.814 +09:00 [DBG] Checking for PKCE parameters
2019-04-11 16:37:14.814 +09:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-04-11 16:37:16.284 +09:00 [INF] {"Username":"bob","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HLLUA1V64EO5:00000004","TimeStamp":"2019-04-11T07:37:16.0000000Z","ProcessId":21916,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-04-11 16:37:16.285 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 16:37:16.285 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:37:16.285 +09:00 [DBG] Checking for PKCE parameters
2019-04-11 16:37:16.286 +09:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-04-11 16:37:16.286 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:37:34.167 +09:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-04-11 16:37:34.168 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 16:37:34.168 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:37:34.168 +09:00 [DBG] Checking for PKCE parameters
2019-04-11 16:37:34.168 +09:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-04-11 16:37:34.771 +09:00 [INF] {"Username":"bob","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HLLUA1V64EO5:00000005","TimeStamp":"2019-04-11T07:37:34.0000000Z","ProcessId":21916,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-04-11 16:37:34.771 +09:00 [DBG] Start authorize request protocol validation
2019-04-11 16:37:34.771 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:37:34.771 +09:00 [DBG] Checking for PKCE parameters
2019-04-11 16:37:34.771 +09:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-04-11 16:37:34.771 +09:00 [DBG] client configuration validation for client js succeeded.
2019-04-11 16:38:40.096 +09:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-11 16:38:40.126 +09:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-04-11 16:38:40.128 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-04-11 16:38:40.128 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-04-11 16:38:40.129 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-04-11 16:38:40.129 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-04-11 16:38:40.129 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-04-11 16:38:46.226 +09:00 [FTL] Application startup exception
MySql.Data.MySqlClient.MySqlException (0x80004005): Table 'aspnetroles' already exists ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Table 'aspnetroles' already exists
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 307
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, ResultSetProtocol resultSetProtocol, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 292
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 37
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 276
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery() in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 77
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at IdentityServerAspNetIdentity.SeedData.EnsureSeedData(String connectionString) in C:\temp\quickstart\src\IdentityServerAspNetIdentity\SeedData.cs:line 34
   at IdentityServerAspNetIdentity.Startup.Configure(IApplicationBuilder app) in C:\temp\quickstart\src\IdentityServerAspNetIdentity\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Hosting.ConventionBasedStartup.Configure(IApplicationBuilder app)
   at Microsoft.AspNetCore.Mvc.Internal.MiddlewareFilterBuilderStartupFilter.<>c__DisplayClass0_0.<Configure>g__MiddlewareFilterBuilder|0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.Internal.AutoRequestServicesStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()
2019-04-11 16:42:56.603 +09:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-11 16:42:56.633 +09:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-04-11 16:42:56.635 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-04-11 16:42:56.635 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-04-11 16:42:56.635 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-04-11 16:42:56.635 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-04-11 16:42:56.635 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-04-11 16:43:19.201 +09:00 [FTL] Application startup exception
System.AggregateException: One or more errors occurred. (An error occurred while updating the entries. See the inner exception for details.) ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> MySql.Data.MySqlClient.MySqlException: Field 'Id' doesn't have a default value ---> MySql.Data.MySqlClient.MySqlException: Field 'Id' doesn't have a default value
   at MySqlConnector.Core.ServerSession.TryAsyncContinuation(Task`1 task) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ServerSession.cs:line 1252
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   --- End of inner exception stack trace ---
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 307
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, ResultSetProtocol resultSetProtocol, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 292
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 37
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.UpdateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.UpdateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.AddClaimsAsync(TUser user, IEnumerable`1 claims)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at IdentityServerAspNetIdentity.SeedData.EnsureSeedData(String connectionString) in C:\temp\quickstart\src\IdentityServerAspNetIdentity\SeedData.cs:line 50
   at IdentityServerAspNetIdentity.Startup.Configure(IApplicationBuilder app) in C:\temp\quickstart\src\IdentityServerAspNetIdentity\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Hosting.ConventionBasedStartup.Configure(IApplicationBuilder app)
   at Microsoft.AspNetCore.Mvc.Internal.MiddlewareFilterBuilderStartupFilter.<>c__DisplayClass0_0.<Configure>g__MiddlewareFilterBuilder|0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.Internal.AutoRequestServicesStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()
---> (Inner Exception #0) Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> MySql.Data.MySqlClient.MySqlException: Field 'Id' doesn't have a default value ---> MySql.Data.MySqlClient.MySqlException: Field 'Id' doesn't have a default value
   at MySqlConnector.Core.ServerSession.TryAsyncContinuation(Task`1 task) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ServerSession.cs:line 1252
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   --- End of inner exception stack trace ---
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 307
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, ResultSetProtocol resultSetProtocol, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 292
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 37
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.UpdateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.UpdateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.AddClaimsAsync(TUser user, IEnumerable`1 claims)<---

2019-04-11 17:50:15.021 +09:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-11 17:50:15.052 +09:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-04-11 17:50:15.055 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-04-11 17:50:15.055 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-04-11 17:50:15.055 +09:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-04-11 17:50:15.055 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-04-11 17:50:15.055 +09:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-04-11 17:50:24.497 +09:00 [FTL] Application startup exception
System.AggregateException: One or more errors occurred. (An error occurred while updating the entries. See the inner exception for details.) ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> MySql.Data.MySqlClient.MySqlException: Field 'Id' doesn't have a default value ---> MySql.Data.MySqlClient.MySqlException: Field 'Id' doesn't have a default value
   at MySqlConnector.Core.ServerSession.TryAsyncContinuation(Task`1 task) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ServerSession.cs:line 1252
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   --- End of inner exception stack trace ---
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 307
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, ResultSetProtocol resultSetProtocol, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 292
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 37
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.UpdateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.UpdateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.AddClaimsAsync(TUser user, IEnumerable`1 claims)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at IdentityServerAspNetIdentity.SeedData.EnsureSeedData(String connectionString) in C:\temp\quickstart\src\IdentityServerAspNetIdentity\SeedData.cs:line 83
   at IdentityServerAspNetIdentity.Startup.Configure(IApplicationBuilder app) in C:\temp\quickstart\src\IdentityServerAspNetIdentity\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Hosting.ConventionBasedStartup.Configure(IApplicationBuilder app)
   at Microsoft.AspNetCore.Mvc.Internal.MiddlewareFilterBuilderStartupFilter.<>c__DisplayClass0_0.<Configure>g__MiddlewareFilterBuilder|0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.Internal.AutoRequestServicesStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()
---> (Inner Exception #0) Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> MySql.Data.MySqlClient.MySqlException: Field 'Id' doesn't have a default value ---> MySql.Data.MySqlClient.MySqlException: Field 'Id' doesn't have a default value
   at MySqlConnector.Core.ServerSession.TryAsyncContinuation(Task`1 task) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ServerSession.cs:line 1252
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   --- End of inner exception stack trace ---
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 307
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, ResultSetProtocol resultSetProtocol, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 292
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 37
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.UpdateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.UpdateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.AddClaimsAsync(TUser user, IEnumerable`1 claims)<---

